<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Qualification Planner Builder</title>
<style>
body {
    font-family: 'Segoe UI', sans-serif;
    margin: 0;
    padding: 20px;
    background: #f9f9f9;
}
.container {
    max-width: 1200px;
    margin: 0 auto;
    background: #fff;
    padding: 30px;
    box-shadow: 0 0 20px rgba(0,0,0,0.1);
    border-radius: 8px;
}
h1, h2, h3 {
    color: #2c3e50;
}
h1 {
    border-bottom: 2px solid #3498db;
    padding-bottom: 10px;
}
.tab-buttons {
    margin-bottom: 20px;
}
.tab-buttons button {
    background: #95a5a6;
    margin-right: 5px;
    padding: 8px 16px;
    border: none;
    border-radius: 4px;
    cursor: pointer;
}
.tab-buttons button.active {
    background: #3498db;
    color: white;
}
.tab {
    display: none;
}
.tab.active {
    display: block;
}
.builder-section {
    background: #f5f7fa;
    padding: 20px;
    margin-bottom: 25px;
    border-radius: 5px;
    border-left: 4px solid #3498db;
}
input, select {
    padding: 8px 12px;
    margin: 5px 0;
    border: 1px solid #ddd;
    border-radius: 4px;
}
button {
    padding: 8px 16px;
    background: #3498db;
    color: white;
    border: none;
    border-radius: 4px;
    cursor: pointer;
}
button:hover {
    background: #2980b9;
}
#generatedCode {
    width: 100%;
    height: 300px;
    font-family: monospace;
}
</style>
</head>
<body>
<div class="container">
    <h1>Qualification Planner Builder</h1>
    
    <div class="tab-buttons">
        <button class="active" onclick="openTab(event, 'tab-qualification')">1. Qualification</button>
        <button onclick="openTab(event, 'tab-groups')">2. Unit Groups</button>
        <button onclick="openTab(event, 'tab-units')">3. Units</button>
        <button onclick="openTab(event, 'tab-rules')">4. Rules</button>
        <button onclick="openTab(event, 'tab-export')">5. Generate</button>
    </div>

    <div id="tab-qualification" class="tab active">
        <div class="builder-section">
            <h2>Qualification Details</h2>
            <label>Qualification Title: <input type="text" id="qualTitle" placeholder="e.g., CIII Conservation"></label><br>
            <label>Qualification Code: <input type="text" id="qualCode" placeholder="e.g., AHC31420"></label><br>
            <label>Default Unit Duration: <input type="number" id="defaultDuration" value="6" min="1"> weeks</label>
        </div>
    </div>

    <div id="tab-groups" class="tab">
        <div class="builder-section">
            <h2>Unit Groups</h2>
            <p>Group management will appear here</p>
        </div>
    </div>

    <div id="tab-units" class="tab">
        <div class="builder-section">
            <h2>Units</h2>
            <p>Unit management will appear here</p>
        </div>
    </div>

    <div id="tab-rules" class="tab">
        <div class="builder-section">
            <h2>Packaging Rules</h2>
            <p>Rules configuration will appear here</p>
        </div>
    </div>

    <div id="tab-export" class="tab">
        <div class="builder-section">
            <h2>Generate Planner</h2>
            <button onclick="generateTool()">Generate Tool</button>
            <div id="output" style="margin-top:30px">
                <h3>Generated Code</h3>
                <textarea id="generatedCode" readonly></textarea>
                <button onclick="downloadTool()">Download HTML</button>
                <button onclick="testTool()">Test in New Tab</button>
            </div>
        </div>
    </div>
</div>

<script>
// Tab navigation
function openTab(event, tabId) {
    // Hide all tabs
    document.querySelectorAll('.tab').forEach(tab => {
        tab.classList.remove('active');
    });
    
    // Remove active class from all buttons
    document.querySelectorAll('.tab-buttons button').forEach(btn => {
        btn.classList.remove('active');
    });
    
    // Show the selected tab
    document.getElementById(tabId).classList.add('active');
    
    // Add active class to the clicked button
    event.currentTarget.classList.add('active');
}

// Tool generation functions
function generateTool() {
    const title = document.getElementById("qualTitle").value || "Qualification Planner";
    const code = document.getElementById("qualCode").value || "";
    const duration = document.getElementById("defaultDuration").value || 6;
    
    const generatedCode = `<!DOCTYPE html>
<html>
<head>
    <title>${title}</title>
</head>
<body>
    <h1>${title} ${code ? `(${code})` : ''}</h1>
    <p>Default duration: ${duration} weeks</p>
    <!-- More generated content would go here -->
</body>
</html>`;
    
    document.getElementById("generatedCode").value = generatedCode;
}

function downloadTool() {
    const code = document.getElementById("generatedCode").value;
    if (!code) return alert('Please generate the tool first');
    
    const blob = new Blob([code], { type: "text/html" });
    const a = document.createElement("a");
    a.href = URL.createObjectURL(blob);
    a.download = "qualification-planner.html";
    a.click();
}

function testTool() {
    const code = document.getElementById("generatedCode").value;
    if (!code) return alert('Please generate the tool first');
    
    const win = window.open("", "_blank");
    win.document.write(code);
    win.document.close();
}
</script>
</body>
</html>
